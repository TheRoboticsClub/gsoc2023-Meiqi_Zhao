---
layout: post
title: "Week 16: Sep 11 ~ Sep 17"
date: 2023-09-19 08:30:00
description: Implement follow-route task in Behavior Metrics
tags: BehaviorMetrics EvaluationMetrics
categories: WeeklyUpdates Coding
---

## Preliminaries
Starting this week, our primary focus shifts towards the development of Behavior Metrics. Initially, Behavior Metrics only supported the follow-lane task, where the robot circulates around a map without making turns. In this week's efforts, we continued to implement the new follow-route task in Behavior Metrics. This task allows users to evaluate their models on custom pre-defined routes, each with a specified start and end location and distance. The agent must navigate from the start to the end, following high-level commands for correct turns at junctions.

## Objectives
- [x] Understand the generation of Behavior Metrics' evaluation metrics
- [x] Implement script mode for the follow-route task
- [x] Implement route loading functionality
- [ ] Implement termination mechanism

## Execution
### Follow-Route Task
 <figure>
  <center>
  <img src="/gsoc2023-Meiqi_Zhao/assets/img/tasks.png" width="800">
  </center>
</figure> 

This week's achievements in Behavior Metrics development include:

* Enabling the loading of a test suite containing various routes, each defined by the map name, start and end location coordinates, and route length.
* Implementing script mode for running multiple test routes consecutively, recording and outputting evaluation results after each run.
* Detection and recording of traffic light infractions by calculating the actual vehicle turn angles at each junction and comparing them to the provided high-level turning instructions.

Moreover, we conducted an in-depth exploration of the codebase to comprehend how existing evaluation metrics are generated after each run. In the upcoming week, we plan to complete the implementation of the follow-route task and expand Behavior Metrics to include new evaluation metrics for this task.

### Demo
In the video below, we demonstrate how script mode is used to run multiple testing episodes sequentially for the follow-route task in Behavior Metrics:
<center><iframe src="https://drive.google.com/file/d/1ZTnsiZsxKkAO2D6yn042ZptfyWrNhf4b/preview"  width="640" height="480" allow="autoplay"></iframe></center>